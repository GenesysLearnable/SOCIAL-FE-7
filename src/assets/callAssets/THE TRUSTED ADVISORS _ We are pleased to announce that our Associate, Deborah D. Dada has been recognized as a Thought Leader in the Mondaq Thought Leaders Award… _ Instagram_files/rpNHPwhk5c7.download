;/*FB_PKG_DELIM*/

__d("PolarisMediaViewerNavigationUtils.react",["JSScheduler","PolarisLinkBuilder","emptyFunction","err","qex","react","useCometRouterDispatcher","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=j.useCallback,l=j.useEffect,m=j.useMemo,n=j.useRef,o=j.unstable_useMemoCache;function a(a,b,e,f){var g;e===void 0&&(e=c("emptyFunction"));if(a===null)throw c("err")("usePolarisMediaViewerNavigationHandlers: shortcode cannot be null.");g=((g=b)!=null?g:[]).map(function(a){return a.shortcode});var h=g.indexOf(a),j=c("useCometRouterDispatcher")(),n=m(function(){var a;return((a=b)!=null?a:[])[h+1]},[b,h]),o=m(function(){var a;return((a=b)!=null?a:[])[h-1]},[b,h]),p=(n==null?void 0:n.shortcode)?d("PolarisLinkBuilder").buildImmersiveMediaLink(n==null?void 0:n.shortcode):null,q=(o==null?void 0:o.shortcode)?d("PolarisLinkBuilder").buildImmersiveMediaLink(o==null?void 0:o.shortcode):null;l(function(){var a=[p,q],b=function(){var b=a[c];b!=null&&(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){j==null?void 0:j.prefetchRouteQueries(b,{})})};for(var c=0;c<a.length;c++)b()},[j,p,q]);var r=k(function(){if(p!=null){var a;j==null?void 0:j.go(p,{passthroughProps:{chainingItems:b,dimensions:n==null?void 0:n.dimensions,loadMore:(a=f)!=null?a:c("emptyFunction")},replace:!0,target:"self"});e(!0)}},[b,j,f,n==null?void 0:n.dimensions,p,e]),s=k(function(){if(q!=null){var a;j==null?void 0:j.go(q,{passthroughProps:{chainingItems:b,dimensions:n==null?void 0:n.dimensions,loadMore:(a=f)!=null?a:c("emptyFunction")},replace:!0,target:"self"});e(!0)}},[b,j,f,n==null?void 0:n.dimensions,q,e]);return m(function(){return{handleNext:n!=null?r:null,handlePrev:o!=null?s:null}},[r,s,n,o])}function b(){return c("qex")._("432")===!0}function e(a,b,e){var f=o(13),g=c("useCometRouterDispatcher")(),h=n(null),i;f[0]!==a.length||f[1]!==b?(i=function(){h.current=a.length,b()},f[0]=a.length,f[1]=b,f[2]=i):i=f[2];var j=i;f[3]!==e||f[4]!==g||f[5]!==a||f[6]!==j?(i=function(){var b=h.current;if(!e||b==null||b===0||!g||a.length===0||b===a.length)return;h.current=null;b=a[b-1];var c=d("PolarisLinkBuilder").buildImmersiveMediaLink(b.shortcode);g==null?void 0:g.prefetchRouteDefinition(c);g==null?void 0:g.go(c,{passthroughProps:{chainingItems:a,dimensions:(c=b.dimensions)!=null?c:null,loadMore:j},replace:!0,target:"content"})},f[3]=e,f[4]=g,f[5]=a,f[6]=j,f[7]=i):i=f[7];var k=i;f[8]!==k?(i=function(){k()},f[8]=k,f[9]=i):i=f[9];var m;f[10]!==a.length||f[11]!==k?(m=[a.length,k],f[10]=a.length,f[11]=k,f[12]=m):m=f[12];l(i,m);f=j;return f}function f(a,b){var d,e=o(9);d=(d=c("useRoutePassthroughProps")())!=null?d:{};var f=d.chainingItems;d=d.loadMore;var g=f,h=d;e[0]!==b||e[1]!==g||e[2]!==a||e[3]!==h?(f=function(){if(!b||!g)return;var c=g.map(function(a){return a.shortcode}).indexOf(a);c>=0&&c===g.length-1&&(h==null?void 0:h())},d=[h,a,g,b],e[0]=b,e[1]=g,e[2]=a,e[3]=h,e[4]=f,e[5]=d):(f=e[4],d=e[5]);l(f,d);e[6]!==g||e[7]!==h?(f=[g,h],e[6]=g,e[7]=h,e[8]=f):f=e[8];d=f;return d}g.usePolarisMediaViewerNavigationHandlers=a;g.hasImmersiveViewerPagination=b;g.useHandleNextPageForPostViewer=e;g.useLoadNextMediaItemsInPostViewer=f}),98);